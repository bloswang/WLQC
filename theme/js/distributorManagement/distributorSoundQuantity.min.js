$(function(){$(".datepicker").daterangepicker({maxDate:moment(),dateLimit:{days:180},autoApply:!0,format:"YYYY-MM-DD",separator:" 到 ",autoUpdateInput:!1,ranges:{"昨日":[moment().subtract("days",1).startOf("day"),moment().subtract("days",1).endOf("day")],"最近7日":[moment().subtract("days",6),moment()],"最近30日":[moment().subtract("days",29),moment()]},locale:{applyLabel:"确定",cancelLabel:"取消",fromLabel:"起始时间",toLabel:"结束时间",customRangeLabel:"自定义",daysOfWeek:["日","一","二","三","四","五","六"],monthNames:["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"],firstDay:1}}).on("apply.daterangepicker",function(e,a){$(this).val(a.startDate.format("YYYY-MM-DD")+" 到 "+a.endDate.format("YYYY-MM-DD"))}).on("cancel.daterangepicker",function(e,a){$(this).val("")});var e=echarts.init(document.getElementById("map"),"customed"),a=echarts.init(document.getElementById("line"),"customed"),t=echarts.init(document.getElementById("bar"),"customed");!function(){function a(){return Math.round(100*Math.random())}var t=[{name:"齐齐哈尔"},{name:"盐城"},{name:"青岛"},{name:"金昌"},{name:"泉州"},{name:"拉萨"},{name:"上海浦东"},{name:"攀枝花"},{name:"威海"},{name:"承德"},{name:"汕尾"},{name:"克拉玛依"},{name:"重庆市"}],n={"齐齐哈尔":[123.97,47.33],"盐城":[120.13,33.38],"青岛":[120.33,36.07],"金昌":[102.188043,38.520089],"泉州":[118.58,24.93],"拉萨":[91.11,29.97],"上海浦东":[121.48,31.22],"攀枝花":[101.718637,26.582347],"威海":[122.1,37.5],"承德":[117.93,40.97],"汕尾":[115.375279,22.786211],"克拉玛依":[84.77,45.59],"重庆市":[108.384366,30.439702]},o={tooltip:{trigger:"item"},visualMap:{min:0,max:100,left:"left",top:"bottom",text:["高","低"]},geo:{map:"china",zoom:1.2,roam:!1,itemStyle:{normal:{areaColor:"#fbfbfb",borderColor:"#b9b4b7"}}},series:[{name:"热度和经销商",type:"effectScatter",coordinateSystem:"geo",data:function(e){for(var a=[],t=0;t<e.length;t++){var o=n[e[t].name];o&&a.push({name:e[t].name,value:o.concat(e[t].value)})}return a}(t),symbolSize:10,showEffectOn:"render",rippleEffect:{brushType:"stroke"},hoverAnimation:!0,label:{normal:{formatter:"{b}",position:"right",show:!1},emphasis:{show:!0}},itemStyle:{normal:{color:"#00fff6",shadowBlur:10,shadowColor:"#333"}}},{type:"map",mapType:"china",geoIndex:0,label:{normal:{show:!0},emphasis:{show:!0}},data:[{name:"北京",value:a()},{name:"天津",value:a()},{name:"上海",value:a()},{name:"重庆",value:a()},{name:"河北",value:a()},{name:"河南",value:a()},{name:"云南",value:a()},{name:"辽宁",value:a()},{name:"黑龙江",value:a()},{name:"湖南",value:a()},{name:"安徽",value:a()},{name:"山东",value:a()},{name:"新疆",value:a()},{name:"江苏",value:a()},{name:"浙江",value:a()},{name:"江西",value:a()},{name:"湖北",value:a()},{name:"广西",value:a()},{name:"甘肃",value:a()},{name:"山西",value:a()},{name:"内蒙古",value:a()},{name:"陕西",value:a()},{name:"吉林",value:a()},{name:"福建",value:a()},{name:"贵州",value:a()},{name:"广东",value:a()},{name:"青海",value:a()},{name:"西藏",value:a()},{name:"四川",value:a()},{name:"宁夏",value:a()},{name:"海南",value:a()},{name:"台湾",value:a()},{name:"香港",value:a()},{name:"澳门",value:a()},{name:"南海诸岛",value:a()}]}]};e.setOption(o)}(),function(){var e={tooltip:{trigger:"axis"},legend:{type:"plain",show:!0,top:"top",left:"right",data:[{name:"邮件销售",icon:"circle"},{name:"联盟广告",icon:"circle"},{name:"视频广告",icon:"circle"},{name:"直接访问",icon:"circle"},{name:"搜索引擎",icon:"circle"}]},dataZoom:[{show:!0,start:30,end:70}],axisPointer:{link:{xAxisIndex:"all"}},grid:{left:"3%",right:"3%",containLabel:!0},xAxis:{type:"category",boundaryGap:!1,data:["周一","周二","周三","周四","周五","周六","周日"]},yAxis:{type:"value"},series:[{name:"数量",type:"line",data:[120,132,101,134,90,230,210]}]};a.setOption(e,!0)}(),function(){var e={tooltip:{show:!0},grid:{top:"6%",left:"3%",right:"4%",bottom:"3%",containLabel:!0},yAxis:{type:"value",boundaryGap:[0,.01]},xAxis:{type:"category",data:["汽车之家","易车","腾讯汽车","网易汽车"]},series:[{type:"bar",barWidth:10,legendHoverLink:!1,label:{normal:{show:!0,color:"#000",position:"top",distance:10}},itemStyle:{normal:{borderWidth:10,borderType:"solid",barBorderRadius:[0,2,2,0]}},data:[12030,2389,2934,104970].sort(function(e,a){return e-a})}]};t.setOption(e,!0)}();var n=$("#table");!function(){n.bootstrapTable({url:"../data/data.json",method:"get",dataType:"json",queryParams:function(e){return{pageSize:e.limit,pageNumber:e.offset/e.limit+1,sort:e.sort,sortOrder:e.order}},sortable:!0,sortOrder:"asc",sortName:"id",pagination:!1,sidePagination:"server",pageNumber:1,pageSize:10,pageList:"",columns:[{field:"id",title:"排行",align:"center",valign:"middle"},{field:"field2",title:"经销商",align:"center",valign:"middle"},{field:"field3",title:"所在地区",align:"center",valign:"middle"},{field:"field4",title:"总发声量",align:"center",valign:"middle"}]}),$(window).resize(function(){n.bootstrapTable("resetView")})}()});